openapi: 3.0.0
info:
  title: API Gateway Documentation
  description: Automatically merged API documentation
  version: 1.0.0
servers:
- url: /
paths:
  /api/v1/appointments:
    get:
      tags:
      - Appointments
      summary: Get all appointments
      description: Retrieve a list of all appointments in the system.
      responses:
        '200':
          description: List of appointments
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Appointment'
        '500':
          description: Error retrieving appointments
      security:
      - cookieAuth: []
    post:
      tags:
      - Appointments
      summary: Create a new appointment
      description: Schedule a new appointment for a patient with specified details.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AppointmentCreate'
        required: true
      responses:
        '201':
          description: Appointment created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Appointment'
        '500':
          description: Error creating the appointment
      security:
      - cookieAuth: []
  /api/v1/appointments/available:
    get:
      tags:
      - Appointments
      summary: Get available appointment slots
      description: Retrieve available appointment slots for a specific clinic, doctor, and date.
      parameters:
      - in: query
        name: clinicId
        description: The ID of the clinic to check for available appointments
        required: true
        schema:
          type: string
        style: form
      - in: query
        name: doctorId
        description: The ID of the doctor to check for available appointments
        required: true
        schema:
          type: string
        style: form
      - in: query
        name: date
        description: The date to check for available appointments (in YYYY-MM-DD format)
        required: true
        schema:
          type: string
          format: date
        style: form
      responses:
        '200':
          description: List of available appointment slots
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    startTime:
                      description: Start time of the available appointment slot
                      type: string
                      format: time
                    endTime:
                      description: End time of the available appointment slot
                      type: string
                      format: time
        '500':
          description: Error obtaining clinic appointments
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    example: Error obtaining clinic appointments
                    type: string
                  message:
                    example: Detailed error message
                    type: string
      security:
      - cookieAuth: []
  /api/v1/appointments/{id}:
    get:
      tags:
      - Appointments
      summary: Get appointment by ID
      description: Retrieve details of a specific appointment by its ID.
      parameters:
      - in: path
        name: id
        description: The ID of the appointment to retrieve
        required: true
        schema:
          type: string
        style: simple
      responses:
        '200':
          description: Appointment details retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Appointment'
        '404':
          description: Appointment not found
        '500':
          description: Error retrieving the appointment
      security:
      - cookieAuth: []
    put:
      tags:
      - Appointments
      summary: Update an appointment
      description: Modify details of an existing appointment by ID.
      parameters:
      - in: path
        name: id
        description: The ID of the appointment to update
        required: true
        schema:
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AppointmentUpdate'
        required: true
      responses:
        '200':
          description: Appointment updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Appointment'
        '404':
          description: Appointment not found
        '500':
          description: Error updating the appointment
      security:
      - cookieAuth: []
    delete:
      tags:
      - Appointments
      summary: Delete an appointment
      description: Remove an appointment from the system by its ID.
      parameters:
      - in: path
        name: id
        description: The ID of the appointment to delete
        required: true
        schema:
          type: string
        style: simple
      responses:
        '200':
          description: Appointment deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    example: Appointment deleted successfully
                    type: string
        '404':
          description: Appointment not found
        '500':
          description: Error deleting the appointment
      security:
      - cookieAuth: []
  /api/v1/appointments/{id}/weather:
    get:
      tags:
      - Appointments
      summary: Get weather forecast for appointment
      description: Retrieve weather forecast for the location and date of a specific appointment by ID.
      parameters:
      - in: path
        name: id
        description: The ID of the appointment for which to retrieve weather information
        required: true
        schema:
          type: string
        style: simple
      responses:
        '200':
          description: Weather forecast for the appointment date and location
        '404':
          description: Appointment or weather data not found
        '500':
          description: Error retrieving the weather information
  /api/v1/appointments/{id}/cancel:
    put:
      tags:
      - Appointments
      summary: Cancel an appointment
      description: Change the status of an appointment to "cancelled" by its ID.
      parameters:
      - in: path
        name: id
        description: The ID of the appointment to cancel
        required: true
        schema:
          type: string
        style: simple
      responses:
        '200':
          description: Appointment cancelled successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Appointment'
        '400':
          description: Appointment ID not provided
        '404':
          description: Appointment not found
        '500':
          description: Error cancelling the appointment
      security:
      - cookieAuth: []
  /api/v1/appointments/{id}/complete:
    put:
      tags:
      - Appointments
      summary: Complete an appointment
      description: Change the status of an appointment to "completed" by its ID.
      parameters:
      - in: path
        name: id
        description: The ID of the appointment to complete
        required: true
        schema:
          type: string
        style: simple
      responses:
        '200':
          description: Appointment completed successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Appointment'
        '400':
          description: Appointment ID not provided
        '404':
          description: Appointment not found
        '500':
          description: Error completing the appointment
      security:
      - cookieAuth: []
  /api/v1/appointments/{id}/noshow:
    put:
      tags:
      - Appointments
      summary: Mark an appointment as no-show
      description: Change the status of an appointment to "no-show" by its ID.
      parameters:
      - in: path
        name: id
        description: The ID of the appointment to mark as no-show
        required: true
        schema:
          type: string
        style: simple
      responses:
        '200':
          description: Appointment marked as no-show successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Appointment'
        '400':
          description: Appointment ID not provided
        '404':
          description: Appointment not found
        '500':
          description: Error marking appointment as no-show
      security:
      - cookieAuth: []
  /api/v1/appointments/patient/{patientId}:
    get:
      tags:
      - Appointments
      summary: Get all appointments for a patient
      description: Retrieve a list of all appointments for a specific patient by their ID.
      parameters:
      - in: path
        name: patientId
        description: The ID of the patient whose appointments to retrieve
        required: true
        schema:
          type: string
        style: simple
      responses:
        '200':
          description: List of appointments for the patient
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Appointment'
        '500':
          description: Error retrieving appointments for the patient
      security:
      - cookieAuth: []
  /api/v1/appointments/doctor/{doctorId}:
    get:
      tags:
      - Appointments
      summary: Get all appointments for a doctor
      description: Retrieve a list of all appointments for a specific doctor by their ID.
      parameters:
      - in: path
        name: doctorId
        description: The ID of the doctor whose appointments to retrieve
        required: true
        schema:
          type: string
        style: simple
      responses:
        '200':
          description: List of appointments for the doctor
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Appointment'
        '500':
          description: Error retrieving appointments for the doctor
      security:
      - cookieAuth: []
  /api/v1/appointments/clinic/{clinicId}:
    get:
      tags:
      - Appointments
      summary: Get all appointments for a clinic
      description: Retrieve a list of all appointments for a specific clinic by its ID.
      parameters:
      - in: path
        name: clinicId
        description: The ID of the clinic whose appointments to retrieve
        required: true
        schema:
          type: string
        style: simple
      responses:
        '200':
          description: List of appointments for the clinic
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Appointment'
        '500':
          description: Error retrieving appointments for the clinic
      security:
      - cookieAuth: []
  /api/v1/workshifts:
    get:
      tags:
      - Workshifts
      summary: Get all workshifts
      responses:
        '200':
          description: Retrieve a list of workshifts
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Workshift'
        '500':
          description: Server error
      security:
      - cookieAuth: []
    post:
      tags:
      - Workshifts
      summary: Create a new workshift
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WorkshiftInput'
        required: true
      responses:
        '201':
          description: Workshift created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Workshift'
        '400':
          description: Validation error
      security:
      - cookieAuth: []
  /api/v1/workshifts/week:
    post:
      tags:
      - Workshifts
      summary: Create a new workshift for a week
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                doctorId:
                  description: Unique identifier for the doctor
                  type: string
                clinicId:
                  description: Unique identifier for the clinic
                  type: string
                duration:
                  example: 480
                  description: Duration of each work shift in minutes
                  type: integer
                periodStartDate:
                  description: Start date of the week, must be a Monday
                  type: string
                  format: date-time
                periodEndDate:
                  description: End date of the week, must be a Sunday within the same week as weekStartDate
                  type: string
                  format: date
              required:
              - doctorId
              - clinicId
              - duration
              - weekStartDate
              - weekEndDate
        required: true
      responses:
        '201':
          description: Workshifts created successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Workshift'
        '400':
          description: Invalid input or validation error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    example: weekStartDate must be a Monday and weekEndDate a Sunday of the same week
                    description: Error message explaining the issue
                    type: string
      security:
      - cookieAuth: []
  /api/v1/workshifts/{id}:
    get:
      tags:
      - Workshifts
      summary: Get a workshift by ID
      parameters:
      - in: path
        name: id
        description: Workshift ID
        required: true
        schema:
          type: string
        style: simple
      responses:
        '200':
          description: Retrieve a workshift
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Workshift'
        '404':
          description: Workshift not found
        '500':
          description: Server error
      security:
      - cookieAuth: []
    put:
      tags:
      - Workshifts
      summary: Update a workshift by ID
      parameters:
      - in: path
        name: id
        description: Workshift ID
        required: true
        schema:
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WorkshiftInput'
        required: true
      responses:
        '200':
          description: Workshift updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Workshift'
        '404':
          description: Workshift not found
        '400':
          description: Validation error
      security:
      - cookieAuth: []
    delete:
      tags:
      - Workshifts
      summary: Delete a workshift by ID
      parameters:
      - in: path
        name: id
        description: Workshift ID
        required: true
        schema:
          type: string
        style: simple
      responses:
        '204':
          description: Workshift deleted
        '404':
          description: Workshift not found
        '500':
          description: Server error
      security:
      - cookieAuth: []
  /api/v1/workshifts/doctor/{doctorId}:
    get:
      tags:
      - Workshifts
      summary: Get workshifts by doctor ID
      parameters:
      - in: path
        name: doctorId
        description: Doctor ID
        required: true
        schema:
          type: string
        style: simple
      responses:
        '200':
          description: Lista de workshifts
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Workshift'
        '500':
          description: Error del servidor
      security:
      - cookieAuth: []
  /api/v1/users:
    post:
      tags:
      - Users
      summary: Create User
      description: Creates a new user with specified roles, email, and associated IDs for doctor or patient.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  example: new_user@example.com
                  description: Email address of the user.
                  type: string
                password:
                  example: securepassword123
                  description: User's password.
                  type: string
                roles:
                  example:
                  - admin
                  - doctor
                  description: List of roles assigned to the user.
                  type: array
                  items:
                    type: string
                doctorid:
                  nullable: true
                  example: doctor123
                  description: Unique ID if the user is a doctor.
                  type: string
                patientid:
                  nullable: true
                  example: patient456
                  description: Unique ID if the user is a patient.
                  type: string
              required:
              - email
              - password
        required: true
      responses:
        '201':
          description: User created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  email:
                    example: new_user@example.com
                    type: string
                  roles:
                    example:
                    - admin
                    - doctor
                    type: array
                    items:
                      type: string
                  doctorid:
                    nullable: true
                    example: doctor123
                    type: string
                  patientid:
                    nullable: true
                    example: patient456
                    type: string
        '400':
          description: Bad request - missing fields or user already exists
          content:
            application/json:
              schema:
                example:
                  email: Email is required
                  password: Password is required
                type: object
                additionalProperties:
                  type: string
        '401':
          description: Unauthorized - token missing or invalid
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    example: No token provided
                    type: string
        '403':
          description: Forbidden - insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    example: Forbidden
                    type: string
        '500':
          $ref: '#/components/responses/ServerError'
      security:
      - cookieAuth: []
  /api/v1/users/{id}:
    get:
      tags:
      - Users
      summary: Retrieve user information
      description: Retrieve user details by user ID. Requires the user to be the owner or have specific roles.
      parameters:
      - in: path
        name: id
        description: ID of the user to retrieve
        required: true
        schema:
          type: string
        style: simple
      responses:
        '200':
          description: User retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                  email:
                    type: string
                  username:
                    type: string
                  roles:
                    type: array
                    items:
                      type: string
                  createdAt:
                    type: string
                    format: date-time
                  updatedAt:
                    type: string
                    format: date-time
              example:
                _id: 617f1f77bcf86cd799439011
                createdAt: 2023-01-01T12:00:00Z
                email: user@example.com
                roles:
                - user
                updatedAt: 2023-01-10T12:00:00Z
                username: johndoe
        '401':
          description: Unautenticated
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: Token not valid
        '403':
          description: Unauthorized access
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: Forbidden
        '404':
          description: User not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: User not found
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: Internal server error
    put:
      tags:
      - Users
      summary: Update user information
      description: Update user details by user ID. Requires the user to be the owner or have specific roles.
      parameters:
      - in: path
        name: id
        description: ID of the user to update
        required: true
        schema:
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  example: user@example.com
                  description: Email address of the user.
                  type: string
                password:
                  example: securepassword123
                  description: User's password.
                  type: string
                roles:
                  example:
                  - admin
                  - doctor
                  description: List of roles assigned to the user.
                  type: array
                  items:
                    type: string
        required: true
      responses:
        '200':
          description: User updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                  email:
                    type: string
                  roles:
                    type: array
                    items:
                      type: string
                  createdAt:
                    type: string
                    format: date-time
                  updatedAt:
                    type: string
                    format: date-time
              example:
                _id: 617f1f77bcf86cd799439011
                createdAt: 2023-01-01T12:00:00Z
                email: user@example.com
                roles:
                - doctor
                updatedAt: 2023-01-10T12:00:00Z
        '400':
          description: Bad request - missing fields or user already exists
          content:
            application/json:
              schema:
                example:
                  email: Email is required
                  password: Password is required
                type: object
                additionalProperties:
                  type: string
        '401':
          description: Unautenticated
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: Token not valid
        '403':
          description: Unauthorized access
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: Forbidden
        '404':
          description: User not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: User not found
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: Internal server error
    delete:
      tags:
      - Users
      summary: Deletes user
      description: Delete user by user ID. Requires the user to have specific roles.
      parameters:
      - in: path
        name: id
        description: ID of the user to update
        required: true
        schema:
          type: string
        style: simple
      responses:
        '204':
          description: User deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
              example:
                _id: 617f1f77bcf86cd799439011
        '401':
          description: Unautenticated
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: Token not valid
        '403':
          description: Unauthorized access
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: Unauthorized
        '404':
          description: User not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: User not found
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: Internal server error
  /api/v1/users/change-password:
    post:
      tags:
      - Users
      summary: Change user password
      description: Allows authenticated users to change their password.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                currentPassword:
                  example: oldPassword123
                  description: The current password of the user.
                  type: string
                newPassword:
                  example: newPassword456
                  description: The new password to set.
                  type: string
              required:
              - currentPassword
              - newPassword
        required: true
      responses:
        '200':
          description: Password changed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    example: Password changed successfully
                    type: string
        '400':
          description: Invalid request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    example: ''
                    type: string
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    example: Unauthorized
                    type: string
        '403':
          description: Unauthorized access
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: Forbidden
        '404':
          description: User not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: User not found
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    example: Error when authenticating
                    type: string
  /api/v1/users/enable-2fa:
    post:
      tags:
      - Users
      summary: Enable two-factor authentication
      description: Allows authenticated users to enable two-factor authentication.
      responses:
        '200':
          description: 2FA successfully enabled
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    example: 2FA enabled successfully
                    type: string
                  qrCodeUrl:
                    example: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA...
                    type: string
                    format: uri
        '400':
          description: Invalid request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    example: Bad request
                    type: string
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    example: Unauthorized
                    type: string
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    example: Internal server error
                    type: string
  /api/v1/users/verify-2fa:
    post:
      tags:
      - Users
      summary: Verify two-factor authentication
      description: Allows authenticated users to verify two-factor authentication.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                userId:
                  example: 550e8400-e29b-41d4-a716-446655440000
                  description: The user's unique ID.
                  type: string
                totpToken:
                  example: '123456'
                  description: The two-factor authentication token.
                  type: string
              required:
              - userId
              - totpToken
        required: true
      responses:
        '200':
          description: 2FA token verified successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    example: Login successful
                    type: string
        '400':
          description: Invalid request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    example: 2FA not enabled for this user
                    type: string
        '403':
          description: Unauthorized access
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: Invalid 2FA token
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    example: Internal server error
                    type: string
  /api/v1/login:
    post:
      tags:
      - Authentication
      summary: User Login
      description: Authenticates a user with their email and password.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  example: admin@email.com
                  description: The user's unique email.
                  type: string
                password:
                  example: admin123
                  description: The user's password.
                  type: string
              required:
              - email
              - password
        required: true
      responses:
        '200':
          description: Successful login
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    example: Login successful
                    type: string
        '401':
          description: Unauthorized - invalid credentials
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    example: Invalid credentials
                    type: string
        '500':
          $ref: '#/components/responses/ServerError'
  /api/v1/logout:
    post:
      tags:
      - Authentication
      summary: User Logout
      description: Logs out a user by clearing authentication tokens.
      responses:
        '200':
          description: Successful logout
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    example: Logout successful
                    type: string
        '401':
          description: Unauthorized - user is not logged in
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    example: Not logged in
                    type: string
        '500':
          $ref: '#/components/responses/ServerError'
  /api/v1/validate:
    get:
      tags:
      - Authentication
      summary: Validates the user's token.
      description: Checks the validity of the token provided in the user's cookies.
      operationId: validateToken
      responses:
        '200':
          description: Token is valid.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    example: Token is valid
                    type: string
        '401':
          description: Unauthorized - Token is missing, expired, or invalid.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    example: Token expired or invalid.
                    type: string
components:
  schemas:
    Appointment:
      type: object
      properties:
        id:
          description: Unique identifier for the appointment
          type: string
        patientId:
          description: ID of the patient associated with the appointment
          type: string
        clinicId:
          description: ID of the clinic where the appointment is scheduled
          type: string
        doctorId:
          description: ID of the doctor handling the appointment
          type: string
        specialty:
          description: Medical specialty for the appointment
          type: string
          enum:
          - family_medicine
          - nursing
          - physiotherapy
          - gynecology
          - pediatrics
          - dermatology
          - cardiology
          - neurology
          - orthopedics
          - psychiatry
          - endocrinology
          - oncology
          - radiology
          - surgery
          - ophthalmology
          - urology
          - anesthesiology
          - otolaryngology
          - gastroenterology
          - other
        appointmentDate:
          description: Date and time of the appointment
          type: string
          format: date-time
        status:
          description: Current status of the appointment
          type: string
          enum:
          - pending
          - completed
          - cancelled
          - no-show
        createdAt:
          description: Appointment creation timestamp
          type: string
          format: date-time
    AppointmentCreate:
      type: object
      properties:
        patientId:
          description: ID of the patient for whom the appointment is created
          type: string
        clinicId:
          description: ID of the clinic where the appointment will be held
          type: string
        doctorId:
          description: ID of the doctor for the appointment
          type: string
        specialty:
          description: Medical specialty for the appointment
          type: string
          enum:
          - family_medicine
          - nursing
          - physiotherapy
          - gynecology
          - pediatrics
          - dermatology
          - cardiology
          - neurology
          - orthopedics
          - psychiatry
          - endocrinology
          - oncology
          - radiology
          - surgery
          - ophthalmology
          - urology
          - anesthesiology
          - otolaryngology
          - gastroenterology
          - other
        appointmentDate:
          description: Date and time of the appointment
          type: string
          format: date-time
      required:
      - patientId
      - clinicId
      - doctorId
      - specialty
      - appointmentDate
    AppointmentUpdate:
      type: object
      properties:
        specialty:
          description: Updated medical specialty for the appointment
          type: string
          enum:
          - family_medicine
          - nursing
          - physiotherapy
          - gynecology
          - pediatrics
          - dermatology
          - cardiology
          - neurology
          - orthopedics
          - psychiatry
          - endocrinology
          - oncology
          - radiology
          - surgery
          - ophthalmology
          - urology
          - anesthesiology
          - otolaryngology
          - gastroenterology
          - other
        appointmentDate:
          description: Updated date and time of the appointment
          type: string
          format: date-time
        status:
          description: Updated status of the appointment
          type: string
          enum:
          - pending
          - completed
          - cancelled
          - no-show
    Workshift:
      type: object
      properties:
        id:
          example: 850154d5-6617-4128-b76b-88979b1cbc44
          type: string
        doctorId:
          example: 850154d5-6617-4128-b76b-88979b1cbc46
          type: string
        clinicId:
          example: ea12fd3d-4d3c-4ba2-b871-673c29fb69d3
          type: string
        startDate:
          example: 2024-11-01T09:00:00Z
          type: string
          format: date-time
        duration:
          example: 120
          type: integer
    WorkshiftInput:
      type: object
      properties:
        doctorId:
          example: 850154d5-6617-4128-b76b-88979b1cbc46
          type: string
        clinicId:
          example: ea12fd3d-4d3c-4ba2-b871-673c29fb69d3
          type: string
        startDate:
          example: 2024-11-01T09:00:00Z
          type: string
          format: date-time
        duration:
          example: 30
          type: integer
    User:
      description: Schema for the User model, including fields for unique ID, email, password, role, and optional associations with patient and clinic.
      type: object
      properties:
        _id:
          example: 550e8400-e29b-41d4-a716-446655440000
          description: Unique identifier for the user. Defaults to a generated UUID.
          type: string
          format: uuid
        email:
          example: john_doe@email.com
          description: Unique email for the user.
          type: string
        password:
          description: Hashed password of the user.
          type: string
        roles:
          example:
          - doctor
          - clinicadmin
          description: List of roles assigned to the user.
          default:
          - patient
          type: array
          items:
            type: string
            enum:
            - admin
            - clinicadmin
            - doctor
            - patient
        doctorid:
          nullable: true
          example: doctor12345
          description: Identifier of the doctor if the user is a clinic doctor.
          type: string
        patientid:
          nullable: true
          example: patient12345
          description: Identifier of the patient if the user is associated with a patient record.
          type: string
        createdAt:
          example: 2023-10-25T08:40:51.620Z
          description: Timestamp when the user was created.
          type: string
          format: date-time
        updatedAt:
          example: 2023-10-26T08:40:51.620Z
          description: Timestamp when the user was last updated.
          type: string
          format: date-time
      required:
      - email
      - password
      - roles
  securitySchemes:
    cookieAuth:
      type: apiKey
      in: cookie
      name: token
